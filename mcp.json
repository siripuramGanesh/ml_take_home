{
  "name": "TaskFlow-ML",
  "version": "0.1.0",
  "description": "YOLOv8 object detection service with incremental training and data collection",
  "author": "Ganesh Siripuram",
  "endpoints": {
    "infer": {
      "url": "/api/infer",
      "method": "POST",
      "description": "Run inference on an uploaded image and return detected bounding boxes",
      "input_schema": {
        "type": "object",
        "properties": {
          "image_npy_b64": {"type": "string"},
          "image_bytes_b64": {"type": "string"}
        },
        "required": ["image_bytes_b64"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "boxes": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "x1": {"type": "integer"},
                "y1": {"type": "integer"},
                "x2": {"type": "integer"},
                "y2": {"type": "integer"},
                "conf": {"type": "number"},
                "cls": {"type": "string"}
              }
            }
          }
        }
      }
    },
    "collect": {
      "url": "/api/collect",
      "method": "POST",
      "description": "Send new labeled image data to incrementally train the YOLO model",
      "input_schema": {
        "type": "object",
        "properties": {
          "image_npy_b64": {"type": "string"},
          "image_bytes_b64": {"type": "string"},
          "bounding_boxes": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {"type": "array", "items": {"type": "integer"}}
            }
          },
          "message": {"type": "string"}
        },
        "required": ["image_bytes_b64", "bounding_boxes"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "ok": {"type": "boolean"}
        }
      }
    }
  }
}
